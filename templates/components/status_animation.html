<!-- Status Messages --> 
<div class="relative">
    {% if analysis.status == 'pending' %}
        <div data-analysis-status="pending" 
             class="relative overflow-hidden bg-gradient-to-r from-blue-50 to-blue-100 
                    border-l-4 border-blue-500 p-6 mb-8 rounded-lg shadow-lg 
                    animate-pulse">
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-blue-300">
                <div class="h-full w-1/3 bg-blue-600 animate-progress"></div>
            </div>
            <div class="flex items-center">
                <div class="flex-shrink-0 mr-4">
                    <div class="relative">
                        <div class="w-10 h-10 border-4 border-blue-200 border-t-blue-500 
                                  rounded-full animate-spin"></div>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <i class="fas fa-cog text-blue-500 animate-reverse-spin"></i>
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-blue-700 mb-1">Analysis in Progress</h3>
                    <p class="text-blue-600">Our AI is working its magic...</p>
                    <div class="mt-2 flex space-x-2 text-sm text-blue-500">
                        <span class="inline-flex items-center">
                            <i class="fas fa-clock mr-1"></i> Please wait
                        </span>
                        <span>•</span>
                        <span class="inline-flex items-center animate-pulse">
                            <i class="fas fa-robot mr-1"></i> Processing
                        </span>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}

    {% if analysis.status == 'processing' %}
        <div class="relative overflow-hidden bg-gradient-to-r from-yellow-50 to-amber-100 
                    border-l-4 border-yellow-500 p-6 mb-8 rounded-lg shadow-lg">
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-yellow-500 to-amber-300">
                <div class="h-full w-2/3 bg-yellow-600 animate-progress"></div>
            </div>
            <div class="flex items-center">
                <div class="flex-shrink-0 mr-4">
                    <div class="relative">
                        <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-microscope text-yellow-500 text-xl animate-bounce"></i>
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-yellow-700 mb-1">Final Processing</h3>
                    <p class="text-yellow-600">Almost there! Analyzing results...</p>
                    <div class="mt-2 flex space-x-2 text-sm text-yellow-500">
                        <span class="inline-flex items-center">
                            <i class="fas fa-chart-bar mr-1"></i> Calculating
                        </span>
                        <span>•</span>
                        <span class="inline-flex items-center animate-pulse">
                            <i class="fas fa-brain mr-1"></i> Learning
                        </span>
                    </div>
                </div>
            </div>
        </div>
    {% elif analysis.status == 'failed' %}
        <div class="relative overflow-hidden bg-gradient-to-r from-red-50 to-red-100 
                    border-l-4 border-red-500 p-6 mb-8 rounded-lg shadow-lg 
                    animate-shake">
            <div class="flex items-center">
                <div class="flex-shrink-0 mr-4">
                    <div class="relative">
                        <div class="w-10 h-10 bg-red-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-exclamation-triangle text-red-500 text-xl"></i>
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-red-700 mb-1">Analysis Failed</h3>
                    <p class="text-red-600">{{ analysis.error_message }}</p>
                    <div class="mt-2 flex space-x-2 text-sm text-red-500">
                        <span class="inline-flex items-center">
                            <i class="fas fa-redo mr-1"></i> Try Again
                        </span>
                        <span>•</span>
                        <span class="inline-flex items-center">
                            <i class="fas fa-question-circle mr-1"></i> Need Help?
                        </span>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
</div>

<style>
    @keyframes progress {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
    }
    
    @keyframes reverse-spin {
        from { transform: rotate(360deg); }
        to { transform: rotate(0deg); }
    }
    
    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
        20%, 40%, 60%, 80% { transform: translateX(2px); }
    }
    
    .animate-progress {
        animation: progress 2s linear infinite;
    }
    
    .animate-reverse-spin {
        animation: reverse-spin 3s linear infinite;
    }
    
    .animate-shake {
        animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
    }
</style>